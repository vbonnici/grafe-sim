#include <iostream>
#include <vector>
using namespace std;

//???????????°?????????????????°
int cnt=0;


void insertionSort(int* A,int n,int g){

	for(int i=g; i<=n-1; i++){
		int v = A[i];
		int j=i-g;
		while(j >= 0 && A[j] > v){
			A[j+g] = A[j];
			j = j - g;
			cnt++;
		}
		A[j+g] = v;
	}
}

void shellSort(int* A, int n){
	cnt = 0;
	
	vector<int> G;

	int c= 1;
	do{	
		G.push_back(c);
	}while((c = c*3+1) <= n);

	int m = G.size();

	cout << m << endl;
	for(int i=m-1; i>= 0; i--){

		// ??°???G???????????????
		cout << G[i];
		
		cout << " ";	

		insertionSort(A, n, G[i]);
	}

	cout << endl;
}

int main(void){
	int N;
	cin >> N;
	int A[N];	//????????????????????°???
	for(int i=0; i<N; i++)
		cin >> A[i];
	
	
	shellSort(A,N);

	cout << cnt << endl;
	
	for(int i=0; i<N; i++){
		//??´???????????°????????????
		cout << A[i] << endl;

	}

	return 0;
}