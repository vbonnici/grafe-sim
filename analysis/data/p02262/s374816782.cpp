#include <iostream>
#include <vector>
#include <string>
using namespace std;
//?????§????????????=?????\??????????????????????´???¨???????????????


void InsertionSort(vector<long> &A,long n,long g,long& cnt){

	long i,v,j;

	//g????????????????????????,n???????´???°
	//
	for (i = g; i < n ; ++i){
		v = A[i]; //v = A[3];
		j = i - g;//j=3-2=1;
		while (j >= 0 && A[j]>v){
			A[j+g] = A[j];//????????????A[3]???A[1]?????£??\
			j = j - g;//
			++cnt;

		}	A[j+g] = v;
	
	}	

}



int main(){


	int m;
	long n, i, j;
	long cnt = 0;
	long G[13] = { 1, 4, 13, 40, 121, 364, 1093, 3280, 9841, 29524, 88573, 265720, 797161 };

	cin >> n;
	vector<long>A;
	A.resize(n, 0);

	for (i = 0; i < n; i++){
		
		cin >> A[i];
	}


		for (i = 0; i < 13; i++){
			if ((A.size() >= G[i] && A.size() < G[i + 1]) || i == 12){
				j = i; break;
			}
		}
		
		cout<<j + 1<< endl;

		for (i = j; i >= 0; --i){
			cout << G[i];
			if (i != 0)cout << " ";
			InsertionSort(A, n, G[i],cnt);
		}cout << endl;


	

		cout << cnt << endl;

		for ( i = 0; i < n; i++){
			cout << A[i] << endl;
	}
	
	return 0;
}