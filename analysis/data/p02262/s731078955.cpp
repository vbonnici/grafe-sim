/**
 * ????°???????:
 * 	??¨???????????????????????????????´?????????\??????
 * 	???????????????:
 * 		g(n+1) = 3g(n)+1,g1=1;
 * 	?????\?°????????????´?????¨O(N^1.25)
 */

#include <bits/stdc++.h>

using namespace std;

const int MAX_N = 1e6+10;
int n,m; // n?????´??°,??????G?????????
int A[MAX_N]; // ????´???°???
vector<int> G; // ??????????¨????????????¨??°?????°???
long long cnt;

// ??????g??´???????????????n?????°?????????
void insertionSort(int A[], int n, int g){
	int v,j;
	for (int i = g; i < n; ++i)
	{
		v = A[i];
		j = i-g; // ?????¢???????´?
		while(j >= 0 && A[j] > v) { // ????????????,?????¢??§????????????
		    A[j+g] = A[j];
		    j -= g;
		    cnt++;
		}
		A[j+g] = v;
	}
}

// ????????????n?????°?????????????°???????
void shellSort(int A[], int n){
	int h = 1;
	while(true) { // ????????????
	    if(h > n) break;
	    G.push_back(h); 
	    h = 3*h+1;
	}
	for (int i = G.size()-1; i >= 0; --i)
	{
		insertionSort(A, n, G[i]);
	}
}

int main(){
	//freopen("in.txt", "r", stdin);
	while(~scanf("%d", &n)) {
	    cnt = 0;
	    for(int i = 0; i < n; i++) scanf("%d", &A[i]); // ?????\??°???????´?
	    shellSort(A, n); // ??????????°???????
	    m = G.size();
	    cout << m << endl; // ??????????????????
	    for(int i = m-1; i >= 0; i--){
	    	printf("%d", G[i]);
	    	if(i) printf(" ");
	    }
	    printf("\n");
	    cout << cnt << endl; // ?????????????¬???°
	    for (int i = 0; i < n; ++i) // ????????????????????°???
	    {
	    	printf("%d\n", A[i]);
	    }
	    G.clear();
	}
	return 0;
}